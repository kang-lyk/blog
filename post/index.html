<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
<title>Posts - 枯木逢春犹再发，人无两度再少年</title>
<meta name="description"
    content="">


<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">


<link rel="stylesheet" href="https://kang-lyk.github.io/blog/css/normalize.css">

<link rel="stylesheet" href="https://kang-lyk.github.io/blog/css/skeleton.css">

<link rel="stylesheet" href="https://kang-lyk.github.io/blog/css/custom.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>




</head>
    <body><nav>
    <label for="drop" class="toggle"><i class="fas fa-bars u-pull-right" aria-hidden="true"></i> <span><i
                class="fas fa-fire" aria-hidden="true"></i>
            枯木</span></label>
    <input type="checkbox" id="drop" />
    <ul class="menu">
        <li><a href="https://kang-lyk.github.io/blog/"><span><i class="fas fa-fire" aria-hidden="true"></i>
                    枯木</span></a></li>
        
        <li class="u-pull-right">
            <a href="https://kang-lyk.github.io/blog/post" class="Members">
                <span> 博文</span>
            </a>
        </li>
        
        <li class="u-pull-right">
            <a href="https://kang-lyk.github.io/blog/" class="Members">
                <span> 首页</span>
            </a>
        </li>
        
    </ul>
</nav>

<div class="section hero">
  <div class="container">
    <div class="row">
      <h1>Posts</h1>
    </div>
  </div>
</div>

<div class="section">
  <div class="container">
    <div class="row">
      
      
      <div class="row">
        <div class="nine columns"> <i class="far fa-calendar"></i> 2020-10-25</div>
        <div class="three columns"> <i class="far fa-clock"></i> Reading Time: 2
          minutes</div>
      </div>
      <h4>
        <a href="https://kang-lyk.github.io/blog/post/2020/1025/" class="h5 d-block my-3">mock.js+koa2作一个简单的mockServe</a>
      </h4>
      <p class="card-text">mock.js是阿里出品的有于拦截AJAX接口请求生成随机数据的库。在已提供接口文档的情况下，用mock.js生接口请求数据，而不用等待服务端的同伙给测试接口，方便并行开发。
以前在研究 ant-design pro时发现它所使用的react角手架DvaJS支持mock.js（现在推荐使用Umi），
在mock目录编辑文件如 /mock/api.js 的内容
export default { // 支持值为 Object 和 Array  &#39;GET /api/users&#39;: { users: [1, 2] }, // GET 可忽略  &#39;/api/users/1&#39;: { id: 1 }, // 支持自定义函数，API 参考 express@4  &#39;POST /api/users/create&#39;: (req, res) =&gt; { // 添加跨域请求头  res.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;); res.end(&#39;ok&#39;); } } 然后访问 /api/users 就能得到 { users: [1,2] } 的响应。
vue版本的ant-design是没有Umi这样的角手架，只能用vue-cli了。vue-cli可不是阿里的，没有自带mock.js。
当然这并不影响我们把mock.js加入进去。
//vue.config.js const mock = require(&#39;./mock&#39;) { devServer: { // 环境变量MOCK决定是否开启MOCK  before: process.</p>
      <div class="row">
        <div class="six columns"><a class="button" href="https://kang-lyk.github.io/blog/post/2020/1025/">Read More</a></div>
        <div class="six columns">
          <div class="u-pull-right"> <i class=""></i>
            <span class="category">
              
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="nine columns"> <i class="far fa-calendar"></i> 2020-10-21</div>
        <div class="three columns"> <i class="far fa-clock"></i> Reading Time: 2
          minutes</div>
      </div>
      <h4>
        <a href="https://kang-lyk.github.io/blog/post/2020/1021/" class="h5 d-block my-3">node.js常用的工具npx、nvm、nrm、pm2</a>
      </h4>
      <p class="card-text">npx是node自带的强大命令工具 调试安装模块 项目已经安装了ESlint npm i eslint -S 但未全局安装只能在项目根目录下的package.json文件中scripts字段时写命令。
如果想对单个文件制行ESLint命令, eslint file.js又不想全局安装，可以在已安装项目跟目录进行
npx eslint file.js npx会找到根目录下的node_modules/.bin/eslint
避免全局安装模块 npx 可以包下载到临时目录使用，然后自动删除例如：
npx uglify-js@3.1.0 main.js -o ./dist/main.js 使用其他版本的node.js 利用npx的特性，可以使用多个node.js
npx node@10 -v v10.24.1 与下文中nvm不同的是npx是“使用”而不是“安装”，npx命令完成后会把包从临时目录删除下次无法继续使用。
执行github源码 # 执行 Gist 代码 $ npx https://gist.github.com/zkat/4bc19503fe9e9309e2bfaa2c58074d32 # 执行仓库代码 $ npx github:piuccio/cowsay hello -p和-c参数 **-p用于安装多个模块 **
npx -p gulp -p eslint -c用于安装多个模块时将所有命令都用 npx 解释
以下的写完会报错
npx -p gulp -p eslint &#39;gulp | eslint&#39; 可以换成
npx -p gulp -p eslint -c &#39;gulp | eslint&#39; nvm 可以让你要一台机器安装多个版本node.</p>
      <div class="row">
        <div class="six columns"><a class="button" href="https://kang-lyk.github.io/blog/post/2020/1021/">Read More</a></div>
        <div class="six columns">
          <div class="u-pull-right"> <i class=""></i>
            <span class="category">
              
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="nine columns"> <i class="far fa-calendar"></i> 2020-10-06</div>
        <div class="three columns"> <i class="far fa-clock"></i> Reading Time: 1
          minute</div>
      </div>
      <h4>
        <a href="https://kang-lyk.github.io/blog/post/2020/1006/" class="h5 d-block my-3">用verdaccio搭建npm私服</a>
      </h4>
      <p class="card-text">为什么要搭建npm私服 npm服务器在国外，国内访问比较慢。虽然有可以代理到淘宝镜像，但有了npm私服后已下包过的包会缓存在公司服务器的npm私服中，获得更快的速度。
公司有些代码不想公开的就需要发npm私包，但那是要收费的，国内公司无法付美元。
这个时候搭一个npm私服就成了不二选择。
安装 全局安装
yarn add verdaccio -g 或
npm i verdaccio -g 局部安装
yarn add verdaccio -s 或
npm i verdaccio -s 启动 已全安装的直接启动
verdaccio 如果是局部安装可以在根目录用npx启动
npx verdaccio 不想每次都进入根目录后再用npx调用可以把verdaccio的安装目录添加到环境变量中去。
启动之后可以通过ip访问http://192.168.3.112:4873 在浏览器直接访问
发布npm包 把源改为已安装的私服
npm set registry http://192.168.3.112:4873 或直接找到.npmrc文件进行修改
registry=http://localhost:4873
推荐使用nvm控制
nrm add myNpm http://192.168.3.112:4873 nrm use myNpm 注册帐号，依次输入用户名和密码
npm adduser 登录,输入用户名密码
npm login 发布包，在项目的根目录运行
npm publish 如果没有修改源可以修改项目根目录的package.josn文件
{ &#34;publishConfig&#34;: { &#34;registry&#34;: &#34;http://192.168.3.112:4873&#34; } } 配置 在启动verdaccio时会打印出一些信息，基中包含配置文件地址
$&gt; verdaccio warn --- config file - /home/.</p>
      <div class="row">
        <div class="six columns"><a class="button" href="https://kang-lyk.github.io/blog/post/2020/1006/">Read More</a></div>
        <div class="six columns">
          <div class="u-pull-right"> <i class=""></i>
            <span class="category">
              
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="nine columns"> <i class="far fa-calendar"></i> 2020-10-05</div>
        <div class="three columns"> <i class="far fa-clock"></i> Reading Time: 5
          minutes</div>
      </div>
      <h4>
        <a href="https://kang-lyk.github.io/blog/post/2020/1022/" class="h5 d-block my-3">开发npm包并发布</a>
      </h4>
      <p class="card-text">开发 开始一个npm组件得选择一个javascript 模块打包器，rollup是比webpack更适合的存在。vue、Reace等知名框架也同样用rollup.js进行打包。与webpack相比更轻量，打包的代码很干净，没有其他冗余代码。
Babel 是一个工具链，主要用于在旧的浏览器或环境中将 ECMAScript 2015+ 代码转换为向后兼容版本的 JavaScript 代码。如果你的npm包为会在浏览器运行，那么Babel也是你必须安装的包。
新建项目 npm init 依次输入项目名、版本号等信息就会生成一个package.json文件
{ &#34;name&#34;: &#34;lyk_countdown&#34;, &#34;version&#34;: &#34;0.1.0&#34;, &#34;description&#34;: &#34;倒计时组件&#34;, &#34;keywords&#34;: [&#34;countdown&#34;, &#34;倒计时&#34;], &#34;scripts&#34;: {}, &#34;author&#34;: &#34;luyongkang&#34;, &#34;devDependencies&#34;: {}, &#34;dependencies&#34;: {}, &#34;license&#34;: &#34;ISC&#34; } packag.json文件主要属性：
 version 表明了当前的版本。 name 设置了应用程序/软件包的名称。 description 是应用程序/软件包的简短描述。 main 设置了应用程序的入口点。 scripts 定义了一组可以运行的 node 脚本。 dependencies 设置了作为依赖安装的 npm 软件包的列表。 devDependencies 设置了作为开发依赖安装的 npm 软件包的列表。 engines 设置了此软件包/应用程序在哪个版本的 Node.js 上运行。  &#34;engines&#34;: { &#34;node&#34;: &#34;&gt;= 6.0.0&#34;, &#34;npm&#34;: &#34;&gt;= 3.0.0&#34;, &#34;yarn&#34;: &#34;^0.</p>
      <div class="row">
        <div class="six columns"><a class="button" href="https://kang-lyk.github.io/blog/post/2020/1022/">Read More</a></div>
        <div class="six columns">
          <div class="u-pull-right"> <i class=""></i>
            <span class="category">
              
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="nine columns"> <i class="far fa-calendar"></i> 2020-02-28</div>
        <div class="three columns"> <i class="far fa-clock"></i> Reading Time: 3
          minutes</div>
      </div>
      <h4>
        <a href="https://kang-lyk.github.io/blog/post/2020/1004/" class="h5 d-block my-3">从Promise到async和await</a>
      </h4>
      <p class="card-text">Promise 是ES6异步编程的一种解决方案,js传统的回调函数和事件更合理更强大。es7标准引入了async/ await函数使得异步操作更加方便。async函数就是 Generator 函数的语法糖。 Generator 语法行为与传统函数完全不同，不容易理解，本文直接会直播跳过 Generator 讲asyn / await。
Promise的使用方法 Promise 对象是一个构造函数，用来生成 Promise 实例，如：
const promise = new Promise(function(resolve, reject) { // ... some code  if (/* 异步操作成功 */){ resolve(value) } else { reject(error) } }) resolve 在异步操作成功时调用,并将异步操作报出的结果作为参数传递出去。
reject 在异步操作失败时调用，并将异步操作报出的错误作为参数传递出去。
Promise 对像的使用方法如下：
promise.then(function(value) { // success }, function(error) { // failure }); 把jq的ajax函数传成Promise对象。
const getList = function(option) { return new Promise((resolve, reject) =&gt; { $.ajax({ url: &#39;/api/news/list&#39;, data: option, success: function(data) { resolve(data) }, error: function(error) { reject(error) } }) }) } 使用方法</p>
      <div class="row">
        <div class="six columns"><a class="button" href="https://kang-lyk.github.io/blog/post/2020/1004/">Read More</a></div>
        <div class="six columns">
          <div class="u-pull-right"> <i class=""></i>
            <span class="category">
              
          </div>
        </div>
      </div>
      
    </div>
    <hr>
  </div>
</div>

<footer>
    <span class="copyright">
         &copy; 2021 
        <a href="https://github.com/aanupam23/hugo-sugoi" title="hugo-sugoi" alt="hugo-sugoi" target="_blank">Hugo-Sugoi</a>
    </span>
</footer></body>
</html>
